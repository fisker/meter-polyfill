{"version":3,"sources":["polyfill.min.js"],"names":["root","factory","define","amd","module","exports","meterPolyfill","this","window","between","value","low","high","mathMin","mathMax","isMeter","el","tagName","toUpperCase","METER_TAG","each","arrLike","fn","i","len","length","isUndefined","obj","isNull","isVoidValue","floatValue","parseFloat","isNaN","isFinite","getPropValue","meter","prop","isNullValue","min","max","PROP_MIN","METER_INITAL_VALUES","PROP_MAX","PROP_LOW","PROP_HIGH","PROP_OPTIMUM","PROP_VALUE","fixProps","propValues","METER_PROPS","calcLevel","optimum","percentage","level","LEVEL_OPTIMUM","LEVEL_SUBOPTIMUM","LEVEL_SUBSUBOPTIMUM","isFirefox","className","METER_VALUE_CLASSES","VERSION","navigator","userAgent","indexOf","NOOP","METER_CLASS_PREFIX","toLowerCase","METHOD_CREATE_ELEMENT","document","meterElement","nativeSupport","Math","throwTypeError","msg","TypeError","createNativeFunction","fnName","toString","METHOD_TO_STRING","nativeToString","bind","METHOD_CALL","on","events","listener","useCapture","split","event","SUPPORTS_ADD_EVENT_LISTENER","METHOD_ADD_EVENT_LISTENER","SUPPORTS_ATTACH_EVENT","METHOD_ATTACH_EVENT","hasAttribute","name","SUPPORTS_HAS_ATTRIBUTE","METHOD_HAS_ATTRIBUTE","METHOD_GET_ATTRIBUTE","updateMeterStyle","valueElement","METHOD_GET_ELEMENTS_BY_TAG_NAME","DIV_TAG","style","width","_","observerSubtree","SUPPORTS_MUTATION_OBSERVER","observer","MutationObserver","mutations","mutation","polyfill","target","observe","documentElement","subtree","childList","SUPPORTS_DOM_NODE_INSERTED","METHOD_DOM_NODE_INSERTED","e","context","meters","POLYFILL_FLAG","METHOD_CONSTRUCTOR","HTMLMeterElement","createShadowDom","defineEtter","observerAttr","METHOD_SET_ATTRIBUTE","isMeterProp","join","attributes","attributeFilter","SUPPORTS_DOM_ATTR_MODIFIED","METHOD_DOM_ATTR_MODIFIED","attrName","SUPPORTS_PROPERTYCHANGE","propertyName","srcElement","canHaveChildren","canHaveHTML","parent","parentNode","meterClone","createElement","replaceChild","innerHTML","METER_SHADOW_HTML","slashMeters","slashMeter","removeChild","getGetter","getSetter","errorMessage","HTML_METER_ELEMENT_CONSTRICTOR_NAME","setAttribute","cloneNode","METHOD_CLONE_NODE","SUPPORTS_ATTERS_AS_PROPS","defineProperty","get","set","attributeSetter","attr","cloneNodeMethd","deep","clone","removeAttribute","METHOD_APPEND_CHILD","METHOD_PROTOTYPE","METHOD_APPLY","TIMEOUT_FREQUENCY","objectDefineProperty","Object","METHOD_DEFINE_SETTER","METHOD_DEFINE_GETTER","o","property","etters","enumerable","configurable","number","Function","oThis","slice","Array","args","arguments","fnToBind","fnBound","concat","create","Temp","hasOwn","hasOwnProperty","O","Properties","charAt","options","prototype","HTMLElement","Element","Node","WebKitMutationObserver","isReady","testDiv","testChild","setTimeout","checkReady","completed","readyState","isTop","frameElement","doScroll","polyfillWhenReady","version","support","CLASSES","calc"],"mappings":"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","file":"polyfill.min.js","sourcesContent":["/* globals define: true, module: true*/\n(function(root, factory) {\n  'use strict';\n\n  if (typeof define === 'function' && define.amd) {\n    define(factory(root));\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = factory(root);\n  } else {\n    root.meterPolyfill = factory(root);\n  }\n})(this, function(window) {\n  'use strict';\n\n  var METER_TAG = 'METER';\n  var VERSION = '1.3.0';\n\n  var isFirefox = window.navigator.userAgent.indexOf('Firefox') > -1;\n\n  var NOOP = function() {};\n\n  var LEVEL_OPTIMUM = 1;\n  var LEVEL_SUBOPTIMUM = 2;\n  var LEVEL_SUBSUBOPTIMUM = 3;\n\n  var METER_CLASS_PREFIX = METER_TAG.toLowerCase() + '-';\n  var METER_VALUE_CLASSES = {};\n  METER_VALUE_CLASSES[LEVEL_OPTIMUM] = METER_CLASS_PREFIX + 'optimum-value';\n  METER_VALUE_CLASSES[LEVEL_SUBOPTIMUM] = METER_CLASS_PREFIX + 'suboptimum-value';\n  METER_VALUE_CLASSES[LEVEL_SUBSUBOPTIMUM] = METER_CLASS_PREFIX + 'even-less-good-value';\n\n  var PROP_MIN = 'min';\n  var PROP_MAX = 'max';\n  var PROP_LOW = 'low';\n  var PROP_HIGH = 'high';\n  var PROP_VALUE = 'value';\n  var PROP_OPTIMUM = 'optimum';\n\n  var METER_PROPS = [PROP_MIN, PROP_MAX, PROP_LOW, PROP_HIGH, PROP_OPTIMUM, PROP_VALUE];\n\n  var METHOD_CREATE_ELEMENT = 'createElement';\n\n  var METER_INITAL_VALUES = {\n    min: 0,\n    max: 1\n  };\n\n  // var PRECISION = isFirefox ? 16 : 6; // firefox and chrome use different precision\n\n  var document = window.document;\n\n  var meterElement = document[METHOD_CREATE_ELEMENT](METER_TAG);\n  var nativeSupport = meterElement[PROP_MAX] === METER_INITAL_VALUES[PROP_MAX];\n\n  var mathMin = Math[PROP_MIN];\n  var mathMax = Math[PROP_MAX];\n\n  function between(value, low, high) {\n    return mathMin(mathMax(low, value), high);\n  }\n\n  function isMeter(el) {\n    return el && el.tagName && el.tagName.toUpperCase() === METER_TAG;\n  }\n\n  function each(arrLike, fn) {\n    var i = 0;\n    var len = arrLike.length;\n    for (; i < len; i++) {\n      fn(arrLike[i], i);\n    }\n  }\n\n  function isUndefined(obj) {\n    return typeof obj === 'undefined';\n  }\n\n  function isNull(obj) {\n    return obj === null;\n  }\n\n  function isVoidValue(obj) {\n    if (isNull(obj)) {\n      return false;\n    }\n    var floatValue = parseFloat(obj);\n    return isUndefined(obj) || isNaN(floatValue) || !isFinite(floatValue);\n  }\n\n  function getPropValue(meter, prop) {\n    var value = meter[prop];\n    var isNullValue = isNull(value);\n    var min;\n    var max;\n    value = parseFloat(value);\n    switch (prop) {\n      case PROP_MIN:\n        value = isNullValue ?\n          METER_INITAL_VALUES[PROP_MIN] :\n          value;\n        break;\n\n      case PROP_MAX:\n        min = getPropValue(meter, PROP_MIN);\n        value = isNullValue ?\n          mathMax(min, METER_INITAL_VALUES[PROP_MAX]) :\n          mathMax(min, value);\n        break;\n\n      case PROP_LOW:\n        min = getPropValue(meter, PROP_MIN);\n        value = isNullValue ?\n          min :\n          between(value, min, getPropValue(meter, PROP_MAX));\n        break;\n\n      case PROP_HIGH:\n        max = getPropValue(meter, PROP_MAX);\n        value = isNullValue ?\n          max :\n          between(value, getPropValue(meter, PROP_LOW), max);\n        break;\n\n      case PROP_OPTIMUM:\n        min = getPropValue(meter, PROP_MIN);\n        max = getPropValue(meter, PROP_MAX);\n        value = isNullValue ?\n          (max - min) / 2 + min :\n          between(value, min, max);\n        break;\n\n      case PROP_VALUE:\n        min = getPropValue(meter, PROP_MIN);\n        value = isNullValue ?\n          min :\n          between(value, min, getPropValue(meter, PROP_MAX));\n        break;\n\n      default:\n        break;\n    }\n    return value;\n  }\n\n  function fixProps(propValues) {\n    each(METER_PROPS, function(prop) {\n      var value = propValues[prop];\n      if (isVoidValue(value)) {\n        value = null;\n      }\n      if (propValues[prop] !== value) {\n        propValues[prop] = value;\n      }\n    });\n    return propValues;\n  }\n\n  function calcLevel(meter) {\n    var propValues = {};\n    each(METER_PROPS, function(prop) {\n      propValues[prop] = meter[prop];\n    });\n    propValues = fixProps(propValues);\n\n    var min = getPropValue(propValues, PROP_MIN);\n    var max = getPropValue(propValues, PROP_MAX);\n    var low = getPropValue(propValues, PROP_LOW);\n    var high = getPropValue(propValues, PROP_HIGH);\n    var optimum = getPropValue(propValues, PROP_OPTIMUM);\n    var value = getPropValue(propValues, PROP_VALUE);\n\n    var percentage = min === max ? 0 : (value - min) / (max - min) * 100;\n    var level = LEVEL_OPTIMUM;\n\n    if (\n      high === max ||\n      low === min ||\n      (optimum >= low && optimum <= high)\n    ) {\n      if (\n        (low <= optimum && value < low) ||\n        (low > optimum && value > low) ||\n        (high < optimum && value < high) ||\n        (high >= optimum && value > high)\n      ) {\n        level = LEVEL_SUBOPTIMUM;\n      }\n    } else if (low === high) {\n      if (\n        (low <= optimum && value < low) ||\n        (high > optimum && value > high)\n      ) {\n        level = LEVEL_SUBSUBOPTIMUM;\n      }\n    } else if (optimum < low) {\n      if (value > low && value <= high) {\n        level = LEVEL_SUBOPTIMUM;\n      } else if (value > high) {\n        level = LEVEL_SUBSUBOPTIMUM;\n      }\n    } else if (optimum > high) {\n      if (value >= low && value < high) {\n        level = LEVEL_SUBOPTIMUM;\n      } else if (value < low) {\n        level = LEVEL_SUBSUBOPTIMUM;\n      }\n    }\n\n    // firefox show diffently from chrome\n    // when value === high/low or min === max\n    if (isFirefox) {\n      if (min === max) {\n        percentage = 100;\n      }\n\n      if (\n          (optimum > high && value === high) ||\n          (optimum < low && value === low)\n       ) {\n        level = LEVEL_SUBOPTIMUM;\n      }\n    }\n\n    return {\n      percentage: percentage,\n      level: level,\n      className: METER_VALUE_CLASSES[level]\n    };\n  }\n\n  var meterPolyfill = nativeSupport ? NOOP : (function(){\n    /* polyfill starts */\n\n    var POLYFILL_FLAG = '_polyfill';\n\n    var METHOD_DOM_NODE_INSERTED = 'DOMNodeInserted';\n    var METHOD_DOM_ATTR_MODIFIED = 'DOMAttrModified';\n    var METHOD_SET_ATTRIBUTE = 'setAttribute';\n    var METHOD_HAS_ATTRIBUTE = 'hasAttribute';\n    var METHOD_GET_ATTRIBUTE = 'getAttribute';\n    var METHOD_CLONE_NODE = 'cloneNode';\n    var METHOD_APPEND_CHILD = 'appendChild';\n    var METHOD_ADD_EVENT_LISTENER = 'addEventListener';\n    var METHOD_ATTACH_EVENT = 'attachEvent';\n    var METHOD_GET_ELEMENTS_BY_TAG_NAME = 'getElementsByTagName';\n    var METHOD_PROTOTYPE = 'prototype';\n    var METHOD_CONSTRUCTOR = 'constructor';\n    var METHOD_CALL = 'call';\n    var METHOD_APPLY = 'apply';\n\n    var DIV_TAG = 'DIV';\n\n    var TIMEOUT_FREQUENCY = 50;\n\n    var documentElement = document.documentElement;\n\n    var defineProperty;\n    var objectDefineProperty = Object.defineProperty;\n    var METHOD_DEFINE_SETTER = '__defineSetter__';\n    var METHOD_DEFINE_GETTER = '__defineGetter__';\n    if (objectDefineProperty) {\n      defineProperty = function(o, property, etters) {\n        etters.enumerable = true;\n        etters.configurable = true;\n\n        try {\n          objectDefineProperty(o, property, etters);\n        } catch (e) {\n          if (e.number === -0x7FF5EC54) {\n            etters.enumerable = false;\n            objectDefineProperty(o, property, etters);\n          }\n        }\n      };\n    } else {\n      if (METHOD_DEFINE_SETTER in documentElement) {\n        defineProperty = function(o, property, etters) {\n          if (etters.get) {\n            o[METHOD_DEFINE_GETTER](property, etters.get);\n          }\n          if (etters.set) {\n            o[METHOD_DEFINE_SETTER](property, etters.set);\n          }\n        };\n      } else {\n        defineProperty = function(o, property, etters) {\n          if (etters.get) {\n            o[property] = etters.get[METHOD_CALL](o);\n          }\n        };\n      }\n    }\n\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\n    var bind = Function[METHOD_PROTOTYPE].bind || function(oThis) {\n      var slice = Array[METHOD_PROTOTYPE].slice;\n      var args = slice[METHOD_CALL](arguments, 1);\n      var fnToBind = this;\n      var NOOP = function() {};\n      var fnBound = function() {\n        return fnToBind[METHOD_APPLY](\n          this instanceof NOOP ? this : oThis || this,\n          args.concat(slice[METHOD_CALL](arguments))\n          );\n      };\n\n      if (this[METHOD_PROTOTYPE]) {\n        NOOP[METHOD_PROTOTYPE] = this[METHOD_PROTOTYPE];\n      }\n      fnBound[METHOD_PROTOTYPE] = new NOOP();\n\n      return fnBound;\n    };\n\n    function throwTypeError(msg) {\n      throw new TypeError(msg);\n    }\n\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\n    // Production steps of ECMA-262, Edition 5, 15.2.3.5\n    // Reference: http://es5.github.io/#x15.2.3.5\n    var create = Object.create || (function() {\n      function Temp() {}\n      var hasOwn = Object[METHOD_PROTOTYPE].hasOwnProperty;\n\n      return function (O) {\n        if (typeof O !== 'object') {\n          throwTypeError('Object ' + METHOD_PROTOTYPE + ' may only be an Object or null');\n        }\n        Temp[METHOD_PROTOTYPE] = O;\n        var obj = new Temp();\n        Temp[METHOD_PROTOTYPE] = null;\n        if (arguments.length > 1) {\n          var Properties = Object(arguments[1]);\n          for (var prop in Properties) {\n            if (hasOwn[METHOD_CALL](Properties, prop)) {\n              obj[prop] = Properties[prop];\n            }\n          }\n        }\n        return obj;\n      };\n    })();\n\n    var HTML_METER_ELEMENT_CONSTRICTOR_NAME = [\n      'HTML',\n      METER_TAG.charAt(0).toUpperCase(),\n      METER_TAG.slice(1).toLowerCase(),\n      'Element'\n    ].join('');\n\n    // ie 8 document.createElement is not a function\n    // ie 7 document.createElement.apply is undefined\n    var createElement = (function(createElement) {\n      return function(tagName, options) {\n        return createElement[METHOD_APPLY] ?\n          createElement[METHOD_APPLY](document, arguments) :\n          createElement(tagName, options);\n      };\n    })(document[METHOD_CREATE_ELEMENT]);\n\n    function createNativeFunction(fnName, fn) {\n      var METHOD_TO_STRING = 'toString';\n\n      function toString() {\n        return 'function ' + fnName + '() { [native code] }';\n      }\n\n      var nativeToString = toString[METHOD_TO_STRING][METHOD_TO_STRING];\n\n      // firfox shows bound toString in console not bug\n      // ie7/8 is buggy without bind\n      toString[METHOD_TO_STRING] = bind[METHOD_CALL](nativeToString, nativeToString);\n      // some browsers shows empty function name in toString.toString.toString\n      toString[METHOD_TO_STRING][METHOD_TO_STRING] = toString[METHOD_TO_STRING];\n\n      fn[METHOD_TO_STRING] = toString;\n      return fn;\n    }\n\n    var HTMLMeterElement = window[HTML_METER_ELEMENT_CONSTRICTOR_NAME] || (function() {\n      var HTMLMeterElement = createNativeFunction(HTML_METER_ELEMENT_CONSTRICTOR_NAME, function() {\n        throwTypeError('Illegal ' + METHOD_CONSTRUCTOR + '' + (isFirefox ? '.' : ''));\n      });\n\n      // ie 8 constructor is null\n      var prototype = (\n        window.HTMLElement ||\n        meterElement[METHOD_CONSTRUCTOR] ||\n        window.Element ||\n        window.Node ||\n        NOOP)[METHOD_PROTOTYPE];\n\n      prototype = create(prototype);\n\n      HTMLMeterElement[METHOD_PROTOTYPE] = prototype;\n      HTMLMeterElement[METHOD_PROTOTYPE][METHOD_CONSTRUCTOR] = HTMLMeterElement;\n\n      return window[HTML_METER_ELEMENT_CONSTRICTOR_NAME] = HTMLMeterElement;\n    })();\n\n    // there is no moz/ms/o vendor prefix\n    var MutationObserver = window.MutationObserver || window.WebKitMutationObserver;\n    var isReady = false;\n\n    meterElement[METER_TAG] = METER_TAG; // for attersAsProps test\n\n    var SUPPORTS_MUTATION_OBSERVER = !!MutationObserver;\n    var SUPPORTS_ADD_EVENT_LISTENER = !!window[METHOD_ADD_EVENT_LISTENER];\n    var SUPPORTS_ATTACH_EVENT = !!window[METHOD_ATTACH_EVENT];\n    var SUPPORTS_ATTERS_AS_PROPS = meterElement[METHOD_GET_ATTRIBUTE](METER_TAG) === METER_TAG; // (IE8- bug)\n    var SUPPORTS_HAS_ATTRIBUTE = !!meterElement[METHOD_HAS_ATTRIBUTE];\n    var SUPPORTS_PROPERTYCHANGE = 'onpropertychange' in document;\n    var SUPPORTS_DOM_NODE_INSERTED;\n    var SUPPORTS_DOM_ATTR_MODIFIED;\n\n    if (!SUPPORTS_MUTATION_OBSERVER) {\n      var testDiv = createElement(DIV_TAG);\n      var testChild = createElement(DIV_TAG);\n      on(testDiv, METHOD_DOM_NODE_INSERTED, function() {\n        SUPPORTS_DOM_NODE_INSERTED = true;\n      });\n      testDiv[METHOD_APPEND_CHILD](testChild);\n      on(testDiv, METHOD_DOM_ATTR_MODIFIED, function() {\n        SUPPORTS_DOM_ATTR_MODIFIED = true;\n      });\n      testDiv[METHOD_SET_ATTRIBUTE](PROP_MIN, 1);\n      testChild = null;\n      testDiv = null;\n    }\n\n    function on(el, events, listener, useCapture) {\n      if (!el) {\n        return;\n      }\n      each(events.split(' '), function(event) {\n        if (SUPPORTS_ADD_EVENT_LISTENER) {\n          el[METHOD_ADD_EVENT_LISTENER](event, listener, !!useCapture);\n        } else if (SUPPORTS_ATTACH_EVENT) {\n          el[METHOD_ATTACH_EVENT]('on' + event, listener);\n        } else {\n          el['on' + event] = listener;\n        }\n      });\n    }\n\n    var METER_SHADOW_HTML = [\n      '<div class=\"' + METER_CLASS_PREFIX + 'inner-element\">',\n        '<div class=\"' + METER_CLASS_PREFIX + 'bar\">',\n          '<div class=\"' + METER_VALUE_CLASSES[LEVEL_SUBOPTIMUM] + '\" style=\"width: 0\">',\n          '</div>',\n        '</div>',\n      '</div>'\n    ].join('');\n\n    var setTimeout = window.setTimeout;\n\n    function hasAttribute(el, name) {\n      return SUPPORTS_HAS_ATTRIBUTE ?\n        el[METHOD_HAS_ATTRIBUTE](name) :\n        !isNull(el[METHOD_GET_ATTRIBUTE](name));\n    }\n\n    function updateMeterStyle(meter) {\n      var level = calcLevel(meter);\n\n      try {\n        var valueElement = meter[METHOD_GET_ELEMENTS_BY_TAG_NAME](DIV_TAG)[2];\n        valueElement.className = level.className;\n        valueElement.style.width = level.percentage + '%';\n      } catch (_) {}\n\n      return meter;\n    }\n\n    // over write document.createElement\n    document[METHOD_CREATE_ELEMENT] = createNativeFunction(METHOD_CREATE_ELEMENT, function() {\n      var el = createElement[METHOD_APPLY](document, arguments);\n      if (isMeter(el)) {\n        polyfill(el);\n      }\n      return el;\n    });\n\n    function observerSubtree() {\n      // observe subtree\n      if (SUPPORTS_MUTATION_OBSERVER) {\n        var observer = new MutationObserver(function(mutations) {\n          each(mutations, function(mutation) {\n            polyfill(mutation.target);\n          });\n        });\n\n        observer.observe(documentElement, {\n          subtree: true,\n          childList: true\n        });\n      } else if (SUPPORTS_DOM_NODE_INSERTED) {\n        on(documentElement, METHOD_DOM_NODE_INSERTED, function(e) {\n          polyfill(e.target);\n        });\n      } else {\n        // any idea ?\n      }\n    }\n\n    function polyfill(context) {\n      context = context || documentElement;\n      var meters = [];\n      if (isMeter(context)) {\n        meters = [context];\n      } else if (context && context.length) {\n        each(context, function(context) {\n          polyfill(context);\n        });\n        return;\n      } else {\n        meters = context[METHOD_GET_ELEMENTS_BY_TAG_NAME](METER_TAG);\n      }\n\n      each(meters, function(meter) {\n        if (meter[POLYFILL_FLAG]) {\n          return;\n        }\n\n        if (!hasAttribute(meter, POLYFILL_FLAG)) {\n          // ie 8 throws\n          try {\n            meter[METHOD_CONSTRUCTOR] = HTMLMeterElement;\n          } catch (_) {}\n\n          // ie8 need clone meter might be a new node\n          meter = createShadowDom(meter);\n          defineEtter(meter);\n          observerAttr(meter);\n\n          meter[METHOD_SET_ATTRIBUTE](POLYFILL_FLAG, VERSION);\n        }\n\n        updateMeterStyle(meter);\n        meter[POLYFILL_FLAG] = VERSION;\n      });\n    }\n\n    function isMeterProp(prop) {\n      return METER_PROPS.join(' ').indexOf(prop) > -1;\n    }\n\n    function observerAttr(meter) {\n      // observe subtree\n      if (SUPPORTS_MUTATION_OBSERVER) {\n        var observer = new MutationObserver(function(mutations) {\n          each(mutations, function(mutation) {\n            updateMeterStyle(mutation.target);\n          });\n        });\n        observer.observe(meter, {\n          attributes: true,\n          attributeFilter: METER_PROPS\n        });\n      } else if (SUPPORTS_DOM_ATTR_MODIFIED) {\n        on(meter, METHOD_DOM_ATTR_MODIFIED, function(e) {\n          if (isMeterProp(e.attrName)) {\n            updateMeterStyle(e.target);\n          }\n        });\n      } else if (SUPPORTS_PROPERTYCHANGE) {\n        on(meter, 'propertychange', function(e) {\n          if (isMeterProp(e.propertyName)) {\n            updateMeterStyle(e.srcElement);\n          }\n        });\n      } else {\n        // anything ?\n      }\n    }\n\n    function createShadowDom(meter) {\n      if (meter.canHaveChildren === false || meter.canHaveHTML === false) {\n        // ie 8 fails on innerHTML meter\n        var parent = meter.parentNode;\n        if (parent) {\n          var meterClone = createElement(METER_TAG);\n          each(METER_PROPS, function(prop) {\n            var value = meter[prop];\n            if (!isVoidValue(value)) {\n              meterClone[prop] = meter[prop];\n            }\n          });\n          parent.replaceChild(meterClone, meter);\n          meterClone.innerHTML = METER_SHADOW_HTML;\n          meter = meterClone;\n\n          // remove </meter><//meter>\n          var slashMeters = parent[METHOD_GET_ELEMENTS_BY_TAG_NAME]('/' + METER_TAG);\n          each(slashMeters, function(slashMeter) {\n            parent.removeChild(slashMeter);\n          });\n\n          // anotherway remove </meter><//meter>\n          // var next = meter;\n          // while (next = next.nextSibling) {\n          //   if (next.tagName.toUpperCase() === '/' + METER_TAG) {\n          //     parent.removeChild(next);\n          //   }\n          // }\n        }\n      } else {\n        meter.innerHTML = METER_SHADOW_HTML;\n      }\n      return meter;\n    }\n\n    function defineEtter(meter) {\n      var propValues = {};\n      var setAttribute = bind[METHOD_CALL](meter[METHOD_SET_ATTRIBUTE], meter);\n      var cloneNode = bind[METHOD_CALL](meter[METHOD_CLONE_NODE], meter);\n\n      each(METER_PROPS, function(prop) {\n        propValues[prop] = meter[METHOD_GET_ATTRIBUTE](prop);\n      });\n\n      propValues = fixProps(propValues);\n\n      function getGetter(prop) {\n        return function() {\n          return getPropValue(propValues, prop);\n        };\n      }\n\n      function getSetter(prop) {\n        return function(value) {\n          if (isVoidValue(value)) {\n            var errorMessage = isFirefox ?\n              'Value being assigned to ' + HTML_METER_ELEMENT_CONSTRICTOR_NAME + '.' + prop + ' is not a finite floating-point value.' :\n              'Failed to set the \\'' + prop + '\\' property on \\'' + HTML_METER_ELEMENT_CONSTRICTOR_NAME + '\\': The provided double value is non-finite.';\n            throwTypeError(errorMessage);\n          }\n\n          value = isNull(value) ? 0 : parseFloat(value);\n\n          setAttribute(prop, value);\n          propValues[prop] = value;\n          updateMeterStyle(meter);\n          return value;\n        };\n      }\n\n      if (!SUPPORTS_ATTERS_AS_PROPS) {\n        each(METER_PROPS, function(prop) {\n          defineProperty(meter, prop, {\n            get: getGetter(prop),\n            set: getSetter(prop)\n          });\n        });\n      }\n\n      var attributeSetter = createNativeFunction(METHOD_SET_ATTRIBUTE, function(attr, value) {\n        setAttribute(attr, value);\n        attr = attr.toLowerCase();\n        each(METER_PROPS, function(prop) {\n          if (prop === attr) {\n            propValues[prop] = isVoidValue(value) || isNull(value) ? null : parseFloat(value);\n            updateMeterStyle(meter);\n          }\n        });\n      });\n\n      defineProperty(meter, METHOD_SET_ATTRIBUTE, {\n        value: attributeSetter\n      });\n\n      var cloneNodeMethd = createNativeFunction(METHOD_CLONE_NODE, function(deep) {\n        var clone = cloneNode(false);\n        clone.removeAttribute(POLYFILL_FLAG);\n        polyfill(clone);\n        return clone;\n      });\n\n      defineProperty(meter, METHOD_CLONE_NODE, {\n        value: cloneNodeMethd\n      });\n    }\n\n    (function checkReady() {\n      function completed() {\n        if (document.readyState === 'complete') {\n          isReady = true;\n        }\n      }\n      completed();\n\n      on(document, 'DOMContentLoaded', function() {\n        isReady = true;\n      });\n\n      on(window, 'load', function() {\n        isReady = true;\n      });\n\n      on(document, 'readystatechange', completed);\n\n      // uglify will break window without a wrapper\n      var isTop = false;\n      try {\n        isTop = isNull(window.frameElement);\n      } catch (_) {}\n\n      if (!SUPPORTS_ADD_EVENT_LISTENER && documentElement.doScroll && isTop) {\n        (function doScroll() {\n          try {\n            documentElement.doScroll();\n            isReady = true;\n          } catch (_) {\n            return setTimeout(doScroll, TIMEOUT_FREQUENCY);\n          }\n        })();\n      }\n    })();\n\n    (function polyfillWhenReady() {\n      if (isReady) {\n        polyfill();\n        observerSubtree();\n      } else {\n        setTimeout(polyfillWhenReady, TIMEOUT_FREQUENCY);\n      }\n    })();\n\n    return polyfill;\n  })();\n\n  meterPolyfill.version = VERSION;\n  meterPolyfill.support = nativeSupport;\n  meterPolyfill.CLASSES = METER_VALUE_CLASSES;\n  meterPolyfill.LEVEL_SUBOPTIMUM = LEVEL_SUBOPTIMUM;\n  meterPolyfill.LEVEL_OPTIMUM = LEVEL_OPTIMUM;\n  meterPolyfill.LEVEL_SUBSUBOPTIMUM = LEVEL_SUBSUBOPTIMUM;\n  meterPolyfill.calc = calcLevel;\n\n  return meterPolyfill;\n});\n"]}