/* meter-polyfill v1.1.0 | (c) 2016 fisker Cheung | MIT License */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define(e(t)):"object"==typeof module&&module.exports?module.exports=e(t):t.meterPolyfill=e(t)}(this,function(t){"use strict";function e(t,e){function n(){return"function "+t+"() { [native code] }"}var r=n.toString.toString;return n.toString=r.bind(r),n.toString.toString=n.toString,e.toString=n,e}function n(t){return"undefined"==typeof t}function r(t){return t&&t.tagName&&t.tagName.toUpperCase()===p}function i(t,e){var i=r(t);return u([g,y],function(e){var n=+t[e];isNaN(n)&&(t[e]=k[e])}),u(e||L,function(e){switch(e){case y:t[y]<t[g]&&(t[y]=t[g]);break;case E:t[E]<t[g]&&(t[E]=t[g]),!i&&n(t[E])&&(t[E]=t[g]);break;case M:t[M]>t[y]&&(t[M]=t[y]),t[M]<t[E]&&(t[M]=t[E]),!i&&n(t[M])&&(t[M]=t[y]);break;case A:i&&n(t[A])?t.removeAttribute(A):((t[A]<t[g]||"undefined"==typeof t[A])&&(t[A]=t[g]),t[A]>t[y]&&(t[A]=t[y]));break;case O:(n(t[O])||t[O]<t[g]||t[O]>t[y])&&(i?t.removeAttribute(O):t[O]=t[g]+(t[y]-t[g])/2)}}),t}function o(t){t=i(t);var e=t[g],n=t[y],r=t[E],o=t[M],a=t[O],u=t[A],c=e===n?0:(u-e)/(n-e)*100,s=b;return o===n||r===e||a>=r&&a<=o?(r<=a&&u<r||r>a&&u>r||o<a&&u<o||o>=a&&u>o)&&(s=h):r===o?(r<=a&&u<r||o>a&&u>o)&&(s=m):a<r?u>r&&u<=o?s=h:u>o&&(s=m):a>o&&(u>=r&&u<o?s=h:u<r&&(s=m)),V&&e===n&&(c=100),V&&(a>o&&u===o||a<r&&u===r)&&(s=h),{percentage:c,level:s,className:T[s]}}function a(t,e,n,r){u(e.split(" "),function(e){H.addEventListener?t.addEventListener(e,n,!!r):H.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n})}function u(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}function c(t,e){return H.hasAttribute?t.hasAttribute(e):null!==t.getAttribute(e)}function s(t){if(H["native"]||!r(t)||c(t,"_polyfill"))return t;if(t.innerHTML=$,t.setAttribute("_polyfill",""),i(t,[y,E,M,A]),H.MutationObserver){var e=new P(function(t){u(t,function(t){l(t.target)})});e.observe(t,{attributes:!0,attributeFilter:L})}else H.DOMNodeInserted?a(t,"DOMAttrModified",function(t){L.join(" ").indexOf(t.attrName)>-1&&l(t.target)}):H.propertychange&&a(t,"propertychange",function(t){});return l(t),t}function f(t,e,n){switch(e){case g:t.setAttribute(e,n),i(t,[y,E,M,A,O]);break;case y:n=z(n,t[g]),t.setAttribute(e,n),i(t,[E,M,A,O]);break;case E:n=q(z(n,t[g]),t[y]),t.setAttribute(e,n),i(t,[M]);break;case M:n=q(z(n,t[g],t[E]),t[y]),t.setAttribute(e,n);break;case O:n=q(z(n,t[g]),t[y]),t.setAttribute(e,n);break;default:t.setAttribute(e,n)}l(t)}function l(t){if(!H["native"]){if(!c(t,"_polyfill"))return s(t);var e=t.getElementsByTagName("div");if(!e.length||!e[2])throw new Error(p+" polyfilled shadow dom is not currect.");var n=e[2],r={};u(L,function(e){H.unknownElement?r[e]=+t[e]:c(t,e)?r[e]=+t.getAttribute(e):r[e]=k[e]});var i=o(r);return n.className=i.className,n.style.width=i.percentage+"%",t}}function d(){function t(t){var e=_.apply(U,arguments);return r(e)&&v(e),e}if(!H["native"]&&!B){if(U[S]=e([S],t),H.MutationObserver){var n=new P(function(t){u(t,function(t){v(t.target)})});n.observe(x,{subtree:!0,childList:!0})}else H.DOMNodeInserted&&a(x,"DOMNodeInserted",function(t){v(t.target)});B=!0}}function v(t){if(!H["native"]){var e=[];e=r(t)?[t]:(t||x).getElementsByTagName(p),u(e,function(t){l(t)})}}var p="<%= METER_TAG %>",b=1,h=2,m=3,g="min",y="max",E="low",M="high",A="value",O="optimum",L=[g,y,E,M,A,O],w="meter-",N=["HTML",p.replace(/^(.)(.*)$/,function(t,e,n){return e.toUpperCase()+n.toLowerCase()}),"Element"].join(""),S="createElement",T={inner:w+"inner-element",bar:w+"bar"};T[b]=w+"optimum-value",T[h]=w+"suboptimum-value",T[m]=w+"even-less-good-value";var k={min:0,max:1,low:0,high:1},I=function(){},D={CLASSES:T,INITAL_VALUES:k,LEVEL_SUBOPTIMUM:h,LEVEL_OPTIMUM:b,LEVEL_SUBSUBOPTIMUM:m,polyfill:I};Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;return function(){return e.apply(t,arguments)}});var U=t.document,x=U.documentElement,_=Function.prototype.bind.call(U[S],U),j=_(p),C=t[N]||function(){function n(){throw new TypeError("Illegal constructor")}var r=(t.HTMLElement||j.constructor||t.Element||t.Node||function(){}).prototype;Object.create&&(r=Object.create(r)),n.prototype=r;var i=e(N,n);return i.constructor=i.prototype.constructor=i,t[N]=i}(),P=t.MutationObserver||t.WebKitMutationObserver,B=!1,F=!1,V=t.navigator.userAgent.indexOf("Firefox")>-1;if(D.fix=i,D.calc=o,j[y]===k[y])return D;j[p]=p;var H={native:j[y]===k[y],MutationObserver:!!P,addEventListener:!!t.addEventListener,attachEvent:!!t.attachEvent,attersAsProps:j.getAttribute(p)===p,unknownElement:!!j.constructor,hasAttribute:!!j.hasAttribute,propertychange:"onpropertychange"in U};if(!H.MutationObserver){var G=!1,K=!1,R=_("div"),W=_("div");a(R,"DOMNodeInserted",function(){G=!0}),R.appendChild(W),a(R,"DOMAttrModified",function(){K=!0}),R.setAttribute(g,1),W=null,R=null,H.DOMNodeInserted=G,H.DOMAttrModified=K}var $=['<div class="'+T.inner+'">','<div class="'+T.bar+'">','<div class="'+T[h]+'" style="width: 0">',"</div>","</div>","</div>"].join(""),q=Math[g],z=Math[y],J=t.setTimeout;return function t(){function e(t){return function(e){!H.attersAsProps&&r(this)&&f(this,t.toLowerCase(),+e)}}function n(t){return function(){return r(this)?c(this,t)?+this.getAttribute(t):t===E?this[g]:t===M?this[y]:t===O?(this[y]-this[g])/2+this[g]:t===A?this[g]:k[t]:this.getAttribute(t)}}if(H.unknownElement){var i=j.constructor.prototype;u(L,function(t){Object.defineProperty(i,t,{set:e(t),get:n(t)})})}}(),function e(){function n(){"complete"===U.readyState&&(F=!0)}n(),a(U,"DOMContentLoaded",function(){F=!0}),a(t,"load",function(){F=!0}),a(U,"readystatechange",n);var r=!1;try{r=null===t.frameElement}catch(t){}!H.addEventListener&&x.doScroll&&r&&!function t(){try{x.doScroll()}catch(e){return J(t,50)}F=!0}()}(),function t(){F?(v(),d()):J(t,50)}(),D.polyfill=v,D});