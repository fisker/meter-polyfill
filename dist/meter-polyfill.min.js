/* meter-polyfill v1.2.0 | (c) 2016 fisker Cheung | MIT License */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define(e(t)):"object"==typeof module&&module.exports?module.exports=e(t):t.meterPolyfill=e(t)}(this,function(t){"use strict";function e(t){return t&&t.tagName&&t.tagName.toUpperCase()===b}function n(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}function r(t){return"undefined"==typeof t}function o(t){var e=parseFloat(t);return r(t)||isNaN(e)||!isFinite(e)}function i(t,e){var n=t[e],r=null===n,o,a,u;switch(n=parseFloat(n),e){case L:n=r?D[L]:n;break;case N:o=i(t,L),n=r?et(o,D[N]):et(o,n);break;case S:o=i(t,L),a=i(t,N),n=r?o:tt(et(o,n),a);break;case T:a=i(t,N),u=i(t,S),n=r?a:tt(et(u,n),a);break;case w:o=i(t,L),a=i(t,N),n=r?(a-o)/2+o:tt(et(o,n),a);break;case _:o=i(t,L),a=i(t,N),n=r?o:tt(et(o,n),a)}return n}function a(t){return n(j,function(e){var n=t[e];o(n)&&(n=null),t[e]!==n&&(t[e]=n)}),t}function u(t){var e={};n(j,function(n){e[n]=t[n]}),e=a(e);var r=i(e,L),o=i(e,N),u=i(e,S),c=i(e,T),l=i(e,w),f=i(e,_),s=r===o?0:(f-r)/(o-r)*100,d=g;return c===o||u===r||l>=u&&l<=c?(u<=l&&f<u||u>l&&f>u||c<l&&f<c||c>=l&&f>c)&&(d=M):u===c?(u<=l&&f<u||c>l&&f>c)&&(d=E):l<u?f>u&&f<=c?d=M:f>c&&(d=E):l>c&&(f>=u&&f<c?d=M:f<u&&(d=E)),P&&(r===o&&(s=100),(l>c&&f===c||l<u&&f===u)&&(d=M)),{percentage:s,level:d,className:A[d]}}function c(t,e){function n(){return"function "+t+"() { [native code] }"}var r=n.toString.toString;return n.toString=V.call(r,r),n.toString.toString=n.toString,e.toString=n,e}function l(t,e,r,o){t&&n(e.split(" "),function(e){z.addEventListener?t.addEventListener(e,r,!!o):z.attachEvent?t.attachEvent("on"+e,r):t["on"+e]=r})}function f(t,e){return z.hasAttribute?t.hasAttribute(e):null!==t.getAttribute(e)}function s(t){var e=u(t);try{var n=t.getElementsByTagName("div")[2];n.className=e.className,n.style.width=e.percentage+"%"}catch(t){}return t}function d(){if(!$){if(z.MutationObserver){var t=new W(function(t){n(t,function(t){p(t.target)})});t.observe(k,{subtree:!0,childList:!0})}else z.DOMNodeInserted&&l(k,"DOMNodeInserted",function(t){p(t.target)});$=!0}}function p(t){var r=[];r=e(t)?[t]:(t||x).getElementsByTagName(b),n(r,function(t){if(!t[H]){if(!f(t,H)){try{t.constructor=R}catch(t){}t=m(t),y(t),v(t),t.setAttribute(H,"")}s(t),t[H]=!0}})}function v(t){if(z.MutationObserver){var e=new W(function(t){n(t,function(t){s(t.target)})});e.observe(t,{attributes:!0,attributeFilter:j})}else z.DOMAttrModified?l(t,"DOMAttrModified",function(t){j.join(" ").indexOf(t.attrName)>-1&&s(t.target)}):z.propertychange&&l(t,"propertychange",function(t){j.join(" ").indexOf(t.propertyName)>-1&&s(t.srcElement)})}function m(t){if(t.canHaveChildren===!1||t.canHaveHTML===!1){var e=t.parentNode;if(e){var r=K(b);n(j,function(e){var n=t[e];o(n)||(r[e]=t[e])}),e.replaceChild(r,t),r.innerHTML=Z,t=r;var i=e.getElementsByTagName("/"+b);n(i,function(t){e.removeChild(t)})}}else t.innerHTML=Z;return t}function y(t){function e(t){return function(){return i(f,t)}}function r(e){return function(n){if(o(n))throw new TypeError("Failed to set the '"+e+"' property on '"+G+"': The provided double value is non-finite.");return d(e,""+t[e]),f[e]=null===n?null:n,s(t),n}}var u="setAttribute",l="cloneNode",f={},d=V.call(t[u],t),v=V.call(t[l],t);n(j,function(e){f[e]=t.getAttribute(e)}),f=a(f),n(j,function(n){var o={get:e(n)};z.attersAsProps||(o.set=r(n)),B(t,n,o)});var m=c(u,function(e,r){d(e,r),e=e.toLowerCase(),n(j,function(n){n===e&&(f[n]=o(r)||null===r?null:r,s(t))})});B(t,u,{value:m});var y=c(l,function(t){var e=v(!1);return e.removeAttribute(H),p(e),e});B(t,l,{value:y})}var b="<%= METER_TAG %>",h=function(){},g=1,M=2,E=3,O="meter-",A={inner:O+"inner-element",bar:O+"bar"};A[g]=O+"optimum-value",A[M]=O+"suboptimum-value",A[E]=O+"even-less-good-value";var L="min",N="max",S="low",T="high",_="value",w="optimum",j=[L,N,S,T,w,_],C="createElement",D={min:0,max:1},P=t.navigator.userAgent.indexOf("Firefox")>-1,x=t.document,I=x[C](b),U=I[N]===D[N],F={CLASSES:A,LEVEL_SUBOPTIMUM:M,LEVEL_OPTIMUM:g,LEVEL_SUBSUBOPTIMUM:E,calc:u,polyfill:h};if(U)return F;var H="_polyfill",k=x.documentElement,B;B=Object.defineProperty?function(t,e,n){n.enumerable=!0,n.configurable=!0;try{Object.defineProperty(t,e,n)}catch(r){r.number===-2146823252&&(n.enumerable=!1,Object.defineProperty(t,e,n))}}:"__defineSetter__"in k?function(t,e,n){n.get&&t.__defineGetter__(e,n.get),n.set&&t.__defineSetter__(e,n.set)}:function(t,e,n){n.get&&(t[e]=n.get.call(t))};var V=Function.prototype.bind||function(t){var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},o=function(){return n.apply(this instanceof r?this:t||this,e.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(r.prototype=this.prototype),o.prototype=new r,o},G=["HTML",b.replace(/^(.)(.*)$/,function(t,e,n){return e.toUpperCase()+n.toLowerCase()}),"Element"].join(""),K=function(t){return t.apply?function(){return t.apply(x,arguments)}:function(e,n){return t(e,n)}}(x[C]),R=t[G]||function(){var e=c(G,function(){throw new TypeError("Illegal constructor")}),n=(t.HTMLElement||I.constructor||t.Element||t.Node||h).prototype;return Object.create&&(n=Object.create(n)),e.prototype=n,e.constructor=e.prototype.constructor=e,t[G]=e}(),W=t.MutationObserver||t.WebKitMutationObserver,$=!1,q=!1;I[b]=b;var z={MutationObserver:!!W,addEventListener:!!t.addEventListener,attachEvent:!!t.attachEvent,attersAsProps:I.getAttribute(b)===b,unknownElement:!!I.constructor,hasAttribute:!!I.hasAttribute,propertychange:"onpropertychange"in x};if(!z.MutationObserver){var J=!1,Q=!1,X=K("div"),Y=K("div");l(X,"DOMNodeInserted",function(){J=!0}),X.appendChild(Y),l(X,"DOMAttrModified",function(){Q=!0}),X.setAttribute(L,1),Y=null,X=null,z.DOMNodeInserted=J,z.DOMAttrModified=Q}var Z=['<div class="'+A.inner+'">','<div class="'+A.bar+'">','<div class="'+A[M]+'" style="width: 0">',"</div>","</div>","</div>"].join(""),tt=Math[L],et=Math[N],nt=t.setTimeout;return x[C]=c(C,function(){var t=K.apply(x,arguments);return e(t)&&p(t),t}),function e(){function n(){"complete"===x.readyState&&(q=!0)}n(),l(x,"DOMContentLoaded",function(){q=!0}),l(t,"load",function(){q=!0}),l(x,"readystatechange",n);var r=!1;try{r=null===t.frameElement}catch(t){}!z.addEventListener&&k.doScroll&&r&&!function t(){try{k.doScroll()}catch(e){return nt(t,50)}q=!0}()}(),function t(){q?(p(),d()):nt(t,50)}(),F.polyfill=p,F});