/* meter-polyfill v1.2.0 | (c) 2016 fisker Cheung | MIT License */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define(e(t)):"object"==typeof module&&module.exports?module.exports=e(t):t.meterPolyfill=e(t)}(this,function(t){"use strict";function e(t){return t&&t.tagName&&t.tagName.toUpperCase()===g}function n(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}function r(t){return"undefined"==typeof t}function o(t){var e=parseFloat(t);return r(t)||isNaN(e)||!isFinite(e)}function i(t,e){var n=t[e],r=null===n,o,a,u;switch(n=parseFloat(n),e){case _:n=r?P[_]:n;break;case N:o=i(t,_),n=r?et(o,P[N]):et(o,n);break;case S:o=i(t,_),a=i(t,N),n=r?o:tt(et(o,n),a);break;case T:a=i(t,N),u=i(t,S),n=r?a:tt(et(u,n),a);break;case j:o=i(t,_),a=i(t,N),n=r?(a-o)/2+o:tt(et(o,n),a);break;case w:o=i(t,_),a=i(t,N),n=r?o:tt(et(o,n),a)}return n}function a(t){return n(C,function(e){var n=t[e];o(n)&&(n=null),t[e]!==n&&(t[e]=n)}),t}function u(t){var e={};n(C,function(n){e[n]=t[n]}),e=a(e);var r=i(e,_),o=i(e,N),u=i(e,S),c=i(e,T),l=i(e,j),f=i(e,w),s=r===o?0:(f-r)/(o-r)*100,d=M;return c===o||u===r||l>=u&&l<=c?(u<=l&&f<u||u>l&&f>u||c<l&&f<c||c>=l&&f>c)&&(d=E):u===c?(u<=l&&f<u||c>l&&f>c)&&(d=O):l<u?f>u&&f<=c?d=E:f>c&&(d=O):l>c&&(f>=u&&f<c?d=E:f<u&&(d=O)),x&&(r===o&&(s=100),(l>c&&f===c||l<u&&f===u)&&(d=E)),{percentage:s,level:d,className:L[d]}}function c(t,e){function n(){return"function "+t+"() { [native code] }"}var r=n.toString.toString;return n.toString=V.call(r,r),n.toString.toString=n.toString,e.toString=n,e}function l(t,e,r,o){t&&n(e.split(" "),function(e){z.addEventListener?t.addEventListener(e,r,!!o):z.attachEvent?t.attachEvent("on"+e,r):t["on"+e]=r})}function f(t,e){return z.hasAttribute?t.hasAttribute(e):null!==t.getAttribute(e)}function s(t){var e=u(t);try{var n=t.getElementsByTagName("div")[2];n.className=e.className,n.style.width=e.percentage+"%"}catch(t){}return t}function d(){var t=K.apply?K.apply(I,arguments):K(arguments[0]);return e(t)&&v(t),t}function p(){if(!$){if(z.MutationObserver){var t=new W(function(t){n(t,function(t){v(t.target)})});t.observe(k,{subtree:!0,childList:!0})}else z.DOMNodeInserted&&l(k,"DOMNodeInserted",function(t){v(t.target)});$=!0}}function v(t){var r=[];r=e(t)?[t]:(t||I).getElementsByTagName(g),n(r,function(t){if(!t._polyfill){if(!f(t,"_polyfill")){t.setAttribute("_polyfill","");try{t.constructor=R}catch(t){}t=m(t),b(t),y(t)}s(t),t._polyfill=!0}})}function y(t){if(z.MutationObserver){var e=new W(function(t){n(t,function(t){s(t.target)})});e.observe(t,{attributes:!0,attributeFilter:C})}else z.DOMAttrModified?l(t,"DOMAttrModified",function(t){C.join(" ").indexOf(t.attrName)>-1&&s(t.target)}):z.propertychange&&l(t,"propertychange",function(t){C.join(" ").indexOf(t.propertyName)>-1&&s(t.srcElement)})}function m(t){if(0==t.canHaveChildren||0==t.canHaveHTML){var e=t.parentNode;if(e){var r=K(g);n(C,function(e){var n=t[e];o(n)||(r[e]=t[e])}),e.replaceChild(r,t),r.innerHTML=Z,t=r;var i=e.getElementsByTagName("/"+g);n(i,function(t){e.removeChild(t)})}}else t.innerHTML=Z;return t}function b(t){function e(t){return function(){return i(f,t)}}function r(e){return function(n){if(o(n))throw new TypeError("Failed to set the '"+e+"' property on '"+G+"': The provided double value is non-finite.");return d(e,""+t[e]),f[e]=null===n?null:n,s(t),n}}var u="setAttribute",l="cloneNode",f={},d=V.call(t[u],t),p=V.call(t[l],t);n(C,function(e){f[e]=t.getAttribute(e)}),f=a(f),n(C,function(n){var o={get:e(n)};z.attersAsProps||(o.set=r(n)),B(t,n,o)});var y=c(u,function(e,r){d(e,r),e=e.toLowerCase(),n(C,function(n){n===e&&(f[n]=o(r)||null===r?null:r,s(t))})});B(t,u,{value:y});var m=c(l,function(t){var e=p(!1);return e.removeAttribute("_polyfill"),v(e),e});B(t,l,{value:m})}var g="<%= METER_TAG %>",h=function(){},M=1,E=2,O=3,A="meter-",L={inner:A+"inner-element",bar:A+"bar"};L[M]=A+"optimum-value",L[E]=A+"suboptimum-value",L[O]=A+"even-less-good-value";var _="min",N="max",S="low",T="high",w="value",j="optimum",C=[_,N,S,T,j,w],D="createElement",P={min:0,max:1},x=t.navigator.userAgent.indexOf("Firefox")>-1,I=t.document,U=I[D](g),F=U[N]===P[N],H={CLASSES:L,LEVEL_SUBOPTIMUM:E,LEVEL_OPTIMUM:M,LEVEL_SUBSUBOPTIMUM:O,calc:u,polyfill:h};if(F)return H;var k=I.documentElement,B;B=Object.defineProperty?function(t,e,n){n.enumerable=!0,n.configurable=!0;try{Object.defineProperty(t,e,n)}catch(r){r.number===-2146823252&&(n.enumerable=!1,Object.defineProperty(t,e,n))}}:"__defineSetter__"in k?function(t,e,n){n.get&&t.__defineGetter__(e,n.get),n.set&&t.__defineSetter__(e,n.set)}:function(t,e,n){n.get&&(t[e]=n.get.call(t))};var V=Function.prototype.bind||function(t){var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},o=function(){return n.apply(this instanceof r?this:t||this,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype||r.prototype,o.prototype=new r,o},G=["HTML",g.replace(/^(.)(.*)$/,function(t,e,n){return e.toUpperCase()+n.toLowerCase()}),"Element"].join(""),K=function(t){return t.apply?function(){return t.apply(I,arguments)}:t}(I[D]),R=t[G]||function(){var e=c(G,function(){throw new TypeError("Illegal constructor")}),n=(t.HTMLElement||U.constructor||t.Element||t.Node||h).prototype;return Object.create&&(n=Object.create(n)),e.prototype=n,e.constructor=e.prototype.constructor=e,t[G]=e}(),W=t.MutationObserver||t.WebKitMutationObserver,$=!1,q=!1;U[g]=g;var z={MutationObserver:!!W,addEventListener:!!t.addEventListener,attachEvent:!!t.attachEvent,attersAsProps:U.getAttribute(g)===g,unknownElement:!!U.constructor,hasAttribute:!!U.hasAttribute,propertychange:"onpropertychange"in I};if(!z.MutationObserver){var J=!1,Q=!1,X=K("div"),Y=K("div");l(X,"DOMNodeInserted",function(){J=!0}),X.appendChild(Y),l(X,"DOMAttrModified",function(){Q=!0}),X.setAttribute(_,1),Y=null,X=null,z.DOMNodeInserted=J,z.DOMAttrModified=Q}var Z=['<div class="'+L.inner+'">','<div class="'+L.bar+'">','<div class="'+L[E]+'" style="width: 0">',"</div>","</div>","</div>"].join(""),tt=Math[_],et=Math[N],nt=t.setTimeout;return I[D]=c(D,d),function e(){function n(){"complete"===I.readyState&&(q=!0)}n(),l(I,"DOMContentLoaded",function(){q=!0}),l(t,"load",function(){q=!0}),l(I,"readystatechange",n);var r=!1;try{r=null===t.frameElement}catch(t){}!z.addEventListener&&k.doScroll&&r&&!function t(){try{k.doScroll()}catch(e){return nt(t,50)}q=!0}()}(),function t(){q?(v(),p()):nt(t,50)}(),H.polyfill=v,H});