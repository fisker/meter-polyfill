/* meter-polyfill v1.0.0 | (c) 2016 fisker Cheung | MIT License */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],function(){return e(t)}):"object"==typeof module&&module.exports?module.exports=e(t):t.meterPolyfill=e(t)}(this,function(t){"use strict";function e(t,e){function n(){return"function "+t+"() { [native code] }"}var r=n.toString.toString;return n.toString=r.bind(r),n.toString.toString=n.toString,e.toString=n,e}function n(t,e,n,i){r(e.split(" "),function(e){F.addEventListener?t.addEventListener(e,n,!!i):F.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n})}function r(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}function i(t,e){return F.hasAttribute?t.hasAttribute(e):null!==t.getAttribute(e)}function o(t){return t&&t.tagName&&t.tagName.toUpperCase()===L}function u(t,e){return r([h,m],function(e){var n=+t[e];isNaN(n)&&(t[e]=K[e])}),r(e||M,function(e){switch(e){case m:t[m]<t[h]&&(t[m]=t[h]);break;case g:t[g]<t[h]&&(t[g]=t[h]);break;case y:t[y]>t[m]&&(t[y]=t[m]),t[y]<t[g]&&(t[y]=t[g]);break;case E:o(t)&&"undefined"==typeof t[E]?t.removeAttribute(E):((t[E]<t[h]||"undefined"==typeof t[E])&&(t[E]=t[h]),t[E]>t[m]&&(t[E]=t[m]));break;case A:("undefined"==typeof t[A]||t[A]<t[h]||t[A]>t[m])&&(o(t)?t.removeAttribute(A):t[A]=t[h]+(t[m]-t[h])/2)}}),t}function a(t){t=u(t);var e=t[h],n=t[m],r=t[g],i=t[y],o=t[A],a=t[E],c=e===n?0:(a-e)/(n-e)*100,s=b;return i===n||r===e||o>=r&&o<=i?(r<=o&&a<r||r>o&&a>r||i<o&&a<i||i>=o&&a>i)&&(s=v):r===i?(r<=o&&a<r||i>o&&a>i)&&(s=p):o<r?a>r&&a<=i?s=v:a>i&&(s=p):o>i&&(a>=r&&a<i?s=v:a<r&&(s=p)),B&&(o>i&&a===i||o<r&&a===r)&&(s=v),{percentage:c,level:s,style:S[s]}}function c(t){if(F["native"]||!o(t)||i(t,"_polyfill"))return t;if(t.innerHTML=R,t.setAttribute("_polyfill",""),u(t,[m,g,y,E]),F.MutationObserver){var e=new x(function(t){r(t,function(t){f(t.target)})});e.observe(t,{attributes:!0,attributeFilter:M})}else F.DOMNodeInserted?n(t,"DOMAttrModified",function(t){M.join(" ").indexOf(t.attrName)>-1&&f(t.target)}):F.propertychange&&n(t,"propertychange",function(t){});return f(t),t}function s(t,e,n){switch(e){case h:t.setAttribute(e,n),u(t,[m,g,y,E,A]);break;case m:n=$(n,t[m]),t.setAttribute(e,n),u(t,[g,y,E,A]);break;case g:n=W($(n,t[h]),t[m]),t.setAttribute(e,n),u(t,[y]);break;case y:n=W($(n,t[h],t[g]),t[m]),t.setAttribute(e,n);break;case A:n=W($(n,t[h]),t[m]),t.setAttribute(e,n);break;default:t.setAttribute(e,n)}f(t)}function f(t){if(!F["native"]){if(!i(t,"_polyfill"))return c(t);var e=t.getElementsByTagName("div");if(!e.length||!e[2])throw"meter polyfilled shadow dom is not currect.";var n=e[2],o={};r(M,function(e){F.unknownElement?o[e]=+t[e]:i(t,e)?o[e]=+t.getAttribute(e):o[e]=K[e]});var u=a(o);return n.className=S[u.level],n.style.width=u.percentage+"%",t}}function l(){function t(t){var e=I.apply(k,arguments);return o(e)&&d(e),e}if(!F["native"]&&!C){if(k[N]=e([N],t),F.MutationObserver){var i=new x(function(t){r(t,function(t){d(t.target)})});i.observe(T,{subtree:!0,childList:!0})}else F.DOMNodeInserted&&n(T,"DOMNodeInserted",function(t){d(t.target)});C=!0}}function d(t){if(!F["native"]){var e=[];e=o(t)?[t]:(t||T).getElementsByTagName(L),r(e,function(t){f(t)})}}var v=1,b=2,p=3,h="min",m="max",g="low",y="high",E="value",A="optimum",M=[h,m,g,y,E,A],L="METER",O="meter-",w="HTML"+L.toLowerCase().replace(/^(.)(.*)$/,function(t,e,n){return e.toUpperCase()+n.toLowerCase()})+"Element",N="createElement",S={inner:O+"inner-element",bar:O+"bar"};S[b]=O+"optimum-value",S[v]=O+"suboptimum-value",S[p]=O+"even-less-good-value",Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;return function(){return e.apply(t,arguments)}});var k=t.document,T=k.documentElement,I=Function.prototype.bind.call(k[N],k),D=I(L),U=t[w]||function(){function n(){throw new TypeError("Illegal constructor")}return n.constructor=n,n.prototype=(t.HTMLElement||D.constructor||t.Element||t.Node||function(){}).prototype,t[w]=e(w,n)}(),x=t.MutationObserver||t.WebKitMutationObserver,C=!1,_=!1,B=t.navigator.userAgent.indexOf("Firefox")>-1;D[h]="0",D.setAttribute(y,"1");var F={native:1===D[m],MutationObserver:!!x,addEventListener:!!t.addEventListener,attachEvent:!!t.attachEvent,syncAttribute:"0"===D.getAttribute(h)&&"1"===D[y],unknownElement:!!D.constructor,hasAttribute:!!D.hasAttribute,propertychange:"onpropertychange"in k};if(!F.MutationObserver){var P=!1,j=!1,V=I("div"),H=I("div");n(V,"DOMNodeInserted",function(){P=!0}),V.appendChild(H),n(V,"DOMAttrModified",function(){j=!0}),V.setAttribute(h,1),H=null,V=null,F.DOMNodeInserted=P,F.DOMAttrModified=j}var K={min:0,max:1,low:0,high:1},R=['<div class="'+S.inner+'">','<div class="'+S.bar+'">','<div class="'+S[v]+'" style="width: 0">',"</div>","</div>","</div>"].join(""),W=Math[h],$=Math[m],q=t.setTimeout;return function t(){function e(t){return function(e){return o(this)?void s(this,t.toLowerCase(),+e):this[t]=e}}function n(t){return function(){return o(this)?i(this,t)?+this.getAttribute(t):t===g?this[h]:t===y?this[m]:t===A?(this[m]-this[h])/2+this[h]:t===E?this[h]:K[t]:this.getAttribute(t)}}if(F.unknownElement){var u=D.constructor.prototype;r(M,function(t){var r={};F.syncAttribute||(r.set=e(t)),r.get=n(t),Object.defineProperty(u,t,r)})}}(),function e(){"complete"===k.readyState&&(_=!0),n(k,"DOMContentLoaded",function(){_=!0}),n(t,"load",function(){_=!0});var r=!1;try{r=null===t.frameElement}catch(t){}!F.addEventListener&&T.doScroll&&r&&!function t(){try{T.doScroll("left")}catch(e){return q(t,50)}_=!0}()}(),function t(){_?(d(),l()):q(t,50)}(),{CLASSES:S,INITAL_VALUES:K,LEVEL_SUBOPTIMUN:v,LEVEL_OPTIMUN:b,LEVEL_SUBSUBOPTIMUN:p,polyfill:d,fix:u,calc:a}});