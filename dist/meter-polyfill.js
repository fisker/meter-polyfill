/**
 * meter-polyfill - Polyfill for the meter element
 * @version v1.0.0
 * @license MIT
 * @copyright fisker Cheung<lionkay@gmail.com>
 * @link https://github.com/fisker/meter-polyfill
 */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],function(){return e(t)}):"object"==typeof module&&module.exports?module.exports=e(t):t.meterPolyfill=e(t)}(this,function(t){"use strict";function e(t,e){for(var n=0,i=t.length;n<i;n++)e(t[n],n)}function n(t,n,i,r){e(n.split(" "),function(e){B.addEventListener?t.addEventListener(e,i,r):B.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i})}function i(t,e){return B.hasAttribute?t.hasAttribute(e):null!==t.getAttribute(e)}function r(t){return t&&t.tagName&&t.tagName.toUpperCase()===M}function u(t,n){return e(n||L,function(e){switch(e){case E:t[E]<t[h]&&(t[E]=t[h]);break;case A:t[A]<t[h]&&(t[A]=t[h]);break;case p:t[p]>t[E]&&(t[p]=t[E]),t[p]<t[A]&&(t[p]=t[A]);break;case y:r(t)&&"undefined"==typeof t[y]?t.removeAttribute(y):((t[y]<t[h]||"undefined"==typeof t[y])&&(t[y]=t[h]),t[y]>t[E]&&(t[y]=t[E]));break;case g:("undefined"==typeof t[g]||t[g]<t[h]||t[g]>t[E])&&(r(t)?t.removeAttribute(g):t[g]=t[h]+(t[E]-t[h])/2)}}),t}function a(t){var e=t[h],n=t[E],i=t[A],r=t[p],u=t[g],a=t[y],o=e===n?0:(a-e)/(n-e)*100,s=b;return r===n||i===e||u>=i&&u<=r?(i<=u&&a<i||i>u&&a>i||r<u&&a<r||r>=u&&a>r)&&(s=v):i===r?(i<=u&&a<i||r>u&&a>r)&&(s=m):u<i?a>i&&a<=r?s=v:a>r&&(s=m):u>r&&(a>=i&&a<r?s=v:a<i&&(s=m)),I&&(u>r&&a===r||u<i&&a===i)&&(s=v),{percentage:o,level:s}}function o(t){return B.native||!r(t)||i(t,"_polyfill")?t:(t.innerHTML=C,t.setAttribute("_polyfill",""),e([h,E],function(e){"undefined"==typeof t[e]&&(t[e]=P[e])}),u(t,[E,A,p,y]),f(t),t)}function s(t,e,n){switch(e){case h:t.setAttribute(e,n),u(t,[E,A,p,y,g]);break;case E:n=j(n,t[E]),t.setAttribute(e,n),u(t,[A,p,y,g]);break;case A:n=V(j(n,t[h]),t[E]),t.setAttribute(e,n),u(t,[p]);break;case p:n=V(j(n,t[h],t[A]),t[E]),t.setAttribute(e,n);break;case g:n=V(j(n,t[h]),t[E]),t.setAttribute(e,n);break;default:t.setAttribute(e,n)}f(t)}function c(){function t(t){return function(e){return r(this)?void s(this,t.toLowerCase(),+e):this[t]=e}}function n(t){return function(){return r(this)?i(this,t)?+this.getAttribute(t):t===A?this[h]:t===p?this[E]:t===g?(this[E]-this[h])/2+this[h]:t===y?this[h]:P[t]:this[t]}}if(!T&&B.unknownElement){var u=_.constructor.prototype;e(L,function(e){var i={};B.syncAttribute||(i.set=t(e)),i.get=n(e),Object.defineProperty(u,e,i)}),T=!0}}function f(t){if(!B.native){var n=t.getElementsByTagName("div");if(!n.length)return o(t);var r=n[2],s={};e(L,function(e){if(B.unknownElement)s[e]=+t[e];else if(i(t,e)){var n=+t.getAttribute(e);isNaN(n)?s[e]=P[e]:s[e]=n}else s[e]=P[e]}),B.syncAttribute&&(s=u(s));var c=a(s);return r.className=w[c.level],r.style.width=c.percentage+"%",t}}function l(){if(!x){if(B.MutationObserver){var t=new S(function(t){e(t,function(t){d(t.target)})});t.observe(O,{attributes:!0,attributeFilter:L,subtree:!0,childList:!0})}else n(O,"DOMNodeInserted DOMAttrModified",function(t){d(t.target)});x=!0}}function d(t){if(!B.native){var n=[];n=r(t)?[t]:(t||O).getElementsByTagName("meter"),c(),e(n,function(t){o(t)}),l()}}var v=0,b=1,m=2,h="min",E="max",A="low",p="high",y="value",g="optimum",L=[h,E,A,p,y,g],M="METER",k="meter-",w={inner:k+"inner-element",bar:k+"bar"};w[b]=k+"optimum-value",w[v]=k+"suboptimum-value",w[m]=k+"even-less-good-value";var N=t.document,O=N.documentElement,S=t.MutationObserver||t.WebKitMutationObserver,T=!1,x=!1,U=!1,I=t.navigator.userAgent.indexOf("Firefox")>-1,_=N.createElement(M);_.low="1",_.setAttribute(p,"1");var B={native:1===_[E],MutationObserver:"undefined"!=typeof S,addEventListener:!!t.addEventListener,attachEvent:!!t.attachEvent,syncAttribute:"1"===_.getAttribute(A)&&"1"===_[p],unknownElement:!!_.constructor,hasAttribute:!!_.hasAttribute},P={min:0,max:1,low:0,high:1},C=['<div class="'+w.inner+'">','<div class="'+w.bar+'">','<div class="'+w[v]+'" style="width: 0">',"</div>","</div>","</div>"].join(""),V=Math.min,j=Math.max,D=t.setTimeout;return function(){"complete"===N.readyState&&(U=!0),n(N,"DOMContentLoaded",function(){U=!0}),n(t,"load",function(){U=!0});var e=!1;try{e===t.frameElement===null}catch(t){}!B.addEventListener&&O.doScroll&&e&&!function t(){try{O.doScroll("left")}catch(e){return D(t,50)}U=!0}()}(),function t(){U?d():D(t,50)}(),{CLASSES:w,INITAL_VALUES:P,LEVEL_SUBOPTIMUN:v,LEVEL_OPTIMUN:b,LEVEL_SUBSUBOPTIMUN:m,polyfill:d,fix:u,calc:a}});
//# sourceMappingURL=meter-polyfill.js.map
